/*
 * JDFacturaCompra.java
 *
 * Created on 08/02/2010, 17:36:00
 */
package gui;

import utilities.general.UTIL;
import java.awt.event.ActionListener;
import java.awt.event.KeyEvent;
import java.awt.event.KeyListener;
import java.awt.event.MouseListener;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JComboBox;
import javax.swing.JFrame;
import javax.swing.JTable;
import javax.swing.JTextField;
import javax.swing.border.TitledBorder;

/**
 *
 * @author FiruzzZ
 */
public class JDFacturaCompra extends javax.swing.JDialog {

    /**
     * View para carga de FacturasCompra y Ordenes de Compra
     *
     * @param parent
     * @param modal
     * @param modo_view 1= FacturaCompra, 2= OrdenCompra
     */
    public JDFacturaCompra(JFrame parent, boolean modal, int modo_view) {
        super(parent, modal);
        initComponents();
        setLocation(this.getOwner().getX() + 100, this.getOwner().getY() + 50);
        labelCodigoNoRegistrado.setVisible(false);
        dcFechaFactura.setDate(new java.util.Date());
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        panelDatosCompra = new javax.swing.JPanel();
        labelFormaPago = new javax.swing.JLabel();
        cbProveedor = new javax.swing.JComboBox();
        cbFacturaTipo = new javax.swing.JComboBox();
        labelProveedor = new javax.swing.JLabel();
        labelDias = new javax.swing.JLabel();
        labelFecha = new javax.swing.JLabel();
        cbFormaPago = new javax.swing.JComboBox();
        tfDias = new javax.swing.JTextField();
        dcFechaFactura = new com.toedter.calendar.JDateChooser();
        labelFacturaNumero = new javax.swing.JLabel();
        tfFacturaCuarto = new javax.swing.JTextField();
        tfFacturaOcteto = new javax.swing.JTextField();
        labelFacturaTipo = new javax.swing.JLabel();
        jLabel20 = new javax.swing.JLabel();
        cbSucursal = new javax.swing.JComboBox();
        cbCaja = new javax.swing.JComboBox();
        labelCaja = new javax.swing.JLabel();
        labelMovimiento = new javax.swing.JLabel();
        tfNumMovimiento = new javax.swing.JTextField();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        panelResumen = new javax.swing.JPanel();
        jLabel12 = new javax.swing.JLabel();
        tfGravado = new javax.swing.JTextField();
        tfTotal = new javax.swing.JTextField();
        jLabel13 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        tfTotalIVA21 = new javax.swing.JTextField();
        jLabel16 = new javax.swing.JLabel();
        tfTotalIVA105 = new javax.swing.JTextField();
        jLabel1 = new javax.swing.JLabel();
        tfTotalPercepcion = new javax.swing.JTextField();
        btnCancelar = new javax.swing.JButton();
        btnAceptar = new javax.swing.JButton();
        panelOpcionesCompra = new javax.swing.JPanel();
        checkActualizaStock = new javax.swing.JCheckBox();
        jLabel17 = new javax.swing.JLabel();
        tfPercIVA = new javax.swing.JTextField();
        panelProducto = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        tfProductoCodigo = new javax.swing.JTextField();
        bBuscarProducto = new javax.swing.JButton();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        labelPrecioUnit = new javax.swing.JLabel();
        labelIVA = new javax.swing.JLabel();
        tfCantidad = new javax.swing.JTextField();
        tfPrecioUnitario = new javax.swing.JTextField();
        tfProductoIVA = new javax.swing.JTextField();
        btnADD = new javax.swing.JButton();
        cbCambioPrecio = new javax.swing.JComboBox();
        btnDEL = new javax.swing.JButton();
        labelPrecioActual = new javax.swing.JLabel();
        tfProductoPrecioActual = new javax.swing.JTextField();
        cbProductos = new javax.swing.JComboBox();
        labelCodigoNoRegistrado = new javax.swing.JLabel();
        labelCodigoNoRegistrado.setVisible(false);
        btnAnular = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Factura - Compra");
        setResizable(false);

        panelDatosCompra.setBorder(javax.swing.BorderFactory.createTitledBorder("Datos compra"));

        labelFormaPago.setText("Forma Pago");

        labelProveedor.setText("Proveedor");

        labelDias.setText("Días");

        labelFecha.setText("Fecha");

        cbFormaPago.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbFormaPagoActionPerformed(evt);
            }
        });
        cbFormaPago.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                cbFormaPagoFocusLost(evt);
            }
        });

        tfDias.setColumns(3);
        tfDias.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        tfDias.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        tfDias.setEnabled(false);
        tfDias.setName("dias"); // NOI18N
        tfDias.setRequestFocusEnabled(false);
        tfDias.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                tfDiasKeyTyped(evt);
            }
        });

        labelFacturaNumero.setText("Nº");

        tfFacturaCuarto.setColumns(4);
        tfFacturaCuarto.setName("cuarteto"); // NOI18N
        tfFacturaCuarto.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tfFacturaCuartoFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfFacturaCuartoFocusLost(evt);
            }
        });
        tfFacturaCuarto.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                tfFacturaCuartoKeyTyped(evt);
            }
        });

        tfFacturaOcteto.setColumns(8);
        tfFacturaOcteto.setName("octeto"); // NOI18N
        tfFacturaOcteto.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tfFacturaOctetoFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfFacturaOctetoFocusLost(evt);
            }
        });
        tfFacturaOcteto.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                tfFacturaOctetoKeyTyped(evt);
            }
        });

        labelFacturaTipo.setText("Tipo");

        jLabel20.setText("Sucursal");

        cbCaja.setName("caja"); // NOI18N

        labelCaja.setText("Caja");

        labelMovimiento.setText("Mov.");

        tfNumMovimiento.setColumns(3);
        tfNumMovimiento.setEditable(false);
        tfNumMovimiento.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        tfNumMovimiento.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        tfNumMovimiento.setText("0");
        tfNumMovimiento.setToolTipText("Cantidad de Facturas Compra registradas por el sistema");
        tfNumMovimiento.setFocusable(false);
        tfNumMovimiento.setRequestFocusEnabled(false);

        javax.swing.GroupLayout panelDatosCompraLayout = new javax.swing.GroupLayout(panelDatosCompra);
        panelDatosCompra.setLayout(panelDatosCompraLayout);
        panelDatosCompraLayout.setHorizontalGroup(
            panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelDatosCompraLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel20)
                    .addComponent(labelProveedor)
                    .addComponent(labelFecha))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addGroup(panelDatosCompraLayout.createSequentialGroup()
                        .addComponent(cbProveedor, javax.swing.GroupLayout.PREFERRED_SIZE, 270, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelFacturaTipo)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(cbFacturaTipo, javax.swing.GroupLayout.PREFERRED_SIZE, 59, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelFacturaNumero)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfFacturaCuarto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfFacturaOcteto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(panelDatosCompraLayout.createSequentialGroup()
                        .addComponent(dcFechaFactura, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelFormaPago)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(cbFormaPago, javax.swing.GroupLayout.PREFERRED_SIZE, 97, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelDias)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfDias, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelMovimiento)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfNumMovimiento, javax.swing.GroupLayout.PREFERRED_SIZE, 60, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(panelDatosCompraLayout.createSequentialGroup()
                        .addComponent(cbSucursal, javax.swing.GroupLayout.PREFERRED_SIZE, 269, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelCaja)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(cbCaja, 0, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );
        panelDatosCompraLayout.setVerticalGroup(
            panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelDatosCompraLayout.createSequentialGroup()
                .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(labelProveedor)
                    .addComponent(cbProveedor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelFacturaTipo)
                    .addComponent(cbFacturaTipo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelFacturaNumero)
                    .addComponent(tfFacturaCuarto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfFacturaOcteto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(dcFechaFactura, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelFecha)
                    .addComponent(labelMovimiento)
                    .addComponent(tfNumMovimiento, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfDias, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelDias)
                    .addComponent(labelFormaPago)
                    .addComponent(cbFormaPago, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(jLabel20)
                    .addComponent(cbSucursal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelCaja)
                    .addComponent(cbCaja, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jScrollPane1.setAutoscrolls(true);

        jTable1.setFocusable(false);
        jTable1.setRequestFocusEnabled(false);
        jScrollPane1.setViewportView(jTable1);

        panelResumen.setBorder(javax.swing.BorderFactory.createTitledBorder(null, "Resumen", javax.swing.border.TitledBorder.DEFAULT_JUSTIFICATION, javax.swing.border.TitledBorder.DEFAULT_POSITION, new java.awt.Font("Tahoma", 0, 11), new java.awt.Color(0, 0, 0))); // NOI18N

        jLabel12.setText("Gravado/Neto");

        tfGravado.setEditable(false);
        tfGravado.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        tfGravado.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfGravado.setText("0");

        tfTotal.setEditable(false);
        tfTotal.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        tfTotal.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfTotal.setText("0");

        jLabel13.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel13.setText("Total");

        jLabel14.setText("  IVA 21%");

        tfTotalIVA21.setEditable(false);
        tfTotalIVA21.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        tfTotalIVA21.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfTotalIVA21.setText("0");

        jLabel16.setText("IVA 10,5%");

        tfTotalIVA105.setEditable(false);
        tfTotalIVA105.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        tfTotalIVA105.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfTotalIVA105.setText("0");

        jLabel1.setText("Perc.");

        tfTotalPercepcion.setEditable(false);
        tfTotalPercepcion.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        tfTotalPercepcion.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfTotalPercepcion.setText("0");

        javax.swing.GroupLayout panelResumenLayout = new javax.swing.GroupLayout(panelResumen);
        panelResumen.setLayout(panelResumenLayout);
        panelResumenLayout.setHorizontalGroup(
            panelResumenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelResumenLayout.createSequentialGroup()
                .addContainerGap()
                .addComponent(jLabel12)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tfGravado, javax.swing.GroupLayout.PREFERRED_SIZE, 64, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel16)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tfTotalIVA105, javax.swing.GroupLayout.PREFERRED_SIZE, 66, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel14, javax.swing.GroupLayout.PREFERRED_SIZE, 49, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tfTotalIVA21, javax.swing.GroupLayout.PREFERRED_SIZE, 67, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel1)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tfTotalPercepcion, javax.swing.GroupLayout.PREFERRED_SIZE, 80, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(jLabel13)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tfTotal, javax.swing.GroupLayout.PREFERRED_SIZE, 75, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );
        panelResumenLayout.setVerticalGroup(
            panelResumenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelResumenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                .addComponent(jLabel12)
                .addComponent(tfGravado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(jLabel16, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(tfTotalIVA105, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(jLabel14, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(tfTotalIVA21, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(jLabel13)
                .addComponent(tfTotal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addComponent(jLabel1)
                .addComponent(tfTotalPercepcion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
        );

        btnCancelar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/cancelar.png"))); // NOI18N
        btnCancelar.setMnemonic('c');
        btnCancelar.setText("Cancelar");
        btnCancelar.setName("cancelar"); // NOI18N

        btnAceptar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/32px-Crystal_Clear_action_apply.png"))); // NOI18N
        btnAceptar.setMnemonic('a');
        btnAceptar.setText("Aceptar");
        btnAceptar.setName("aceptar"); // NOI18N

        panelOpcionesCompra.setBorder(javax.swing.BorderFactory.createTitledBorder("Opciones"));

        checkActualizaStock.setSelected(true);
        checkActualizaStock.setText("Actualiza stock");
        checkActualizaStock.setToolTipText("Si la carga de factura afectará el stock");

        jLabel17.setText("Perc. Ing. Brutos");

        tfPercIVA.setColumns(8);
        tfPercIVA.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfPercIVA.setText("0");
        tfPercIVA.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                tfPercIVAKeyTyped(evt);
            }
        });

        javax.swing.GroupLayout panelOpcionesCompraLayout = new javax.swing.GroupLayout(panelOpcionesCompra);
        panelOpcionesCompra.setLayout(panelOpcionesCompraLayout);
        panelOpcionesCompraLayout.setHorizontalGroup(
            panelOpcionesCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(javax.swing.GroupLayout.Alignment.TRAILING, panelOpcionesCompraLayout.createSequentialGroup()
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addGroup(panelOpcionesCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel17)
                    .addComponent(checkActualizaStock)
                    .addComponent(tfPercIVA, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
        );
        panelOpcionesCompraLayout.setVerticalGroup(
            panelOpcionesCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelOpcionesCompraLayout.createSequentialGroup()
                .addComponent(checkActualizaStock)
                .addGap(10, 10, 10)
                .addComponent(jLabel17)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                .addComponent(tfPercIVA, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap())
        );

        panelProducto.setBorder(javax.swing.BorderFactory.createTitledBorder("Producto"));

        jLabel7.setText("Código");

        tfProductoCodigo.setColumns(4);
        tfProductoCodigo.setName("productoCodigo"); // NOI18N
        tfProductoCodigo.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tfProductoCodigoFocusGained(evt);
            }
        });

        bBuscarProducto.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/lupa.png"))); // NOI18N
        bBuscarProducto.setName("buscarProducto"); // NOI18N

        jLabel8.setText("Nombre");

        jLabel9.setText("Cantidad");

        labelPrecioUnit.setText("Precio U.");

        labelIVA.setText("IVA %");

        tfCantidad.setColumns(4);
        tfCantidad.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfCantidad.setName("productoCant"); // NOI18N
        tfCantidad.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tfCantidadFocusGained(evt);
            }
        });
        tfCantidad.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                tfCantidadKeyReleased(evt);
            }
        });

        tfPrecioUnitario.setColumns(8);
        tfPrecioUnitario.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfPrecioUnitario.setName("productoPrecio"); // NOI18N
        tfPrecioUnitario.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tfPrecioUnitarioFocusGained(evt);
            }
        });
        tfPrecioUnitario.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                tfPrecioUnitarioKeyReleased(evt);
            }
        });

        tfProductoIVA.setColumns(4);
        tfProductoIVA.setEditable(false);
        tfProductoIVA.setEnabled(false);
        tfProductoIVA.setFocusable(false);
        tfProductoIVA.setRequestFocusEnabled(false);

        btnADD.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/add.png"))); // NOI18N
        btnADD.setToolTipText("Agregar producto");
        btnADD.setName("add"); // NOI18N

        cbCambioPrecio.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Última", "Anterior", "PPP" }));
        cbCambioPrecio.setToolTipText("<html>Fijación de costo compra:\n<br>Última compra\n<br>Compra Anterior\n<br>PPP (Precio Ponderado Promedio)\n</html>");
        cbCambioPrecio.setNextFocusableComponent(btnADD);
        cbCambioPrecio.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                cbCambioPrecioKeyReleased(evt);
            }
        });

        btnDEL.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/delete.png"))); // NOI18N
        btnDEL.setToolTipText("Quitar producto");
        btnDEL.setName("del"); // NOI18N
        btnDEL.setNextFocusableComponent(tfProductoCodigo);
        btnDEL.setRequestFocusEnabled(false);

        labelPrecioActual.setText("Precio Ac.");

        tfProductoPrecioActual.setColumns(6);
        tfProductoPrecioActual.setEditable(false);
        tfProductoPrecioActual.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfProductoPrecioActual.setToolTipText("<html>\nPrecio actual del producto\n<br>(última compra)\n</html>");
        tfProductoPrecioActual.setRequestFocusEnabled(false);

        labelCodigoNoRegistrado.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        labelCodigoNoRegistrado.setForeground(new java.awt.Color(255, 51, 0));
        labelCodigoNoRegistrado.setText("¡CÓDIGO NO REGISTRADO!");

        javax.swing.GroupLayout panelProductoLayout = new javax.swing.GroupLayout(panelProducto);
        panelProducto.setLayout(panelProductoLayout);
        panelProductoLayout.setHorizontalGroup(
            panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelProductoLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel8, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel9, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel7, javax.swing.GroupLayout.Alignment.TRAILING))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panelProductoLayout.createSequentialGroup()
                        .addComponent(tfCantidad, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelPrecioUnit)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfPrecioUnitario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelIVA)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfProductoIVA, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(cbCambioPrecio, javax.swing.GroupLayout.PREFERRED_SIZE, 101, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnADD, javax.swing.GroupLayout.PREFERRED_SIZE, 48, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnDEL, javax.swing.GroupLayout.PREFERRED_SIZE, 48, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(cbProductos, javax.swing.GroupLayout.PREFERRED_SIZE, 341, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(panelProductoLayout.createSequentialGroup()
                        .addComponent(tfProductoCodigo, javax.swing.GroupLayout.PREFERRED_SIZE, 142, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(bBuscarProducto, javax.swing.GroupLayout.PREFERRED_SIZE, 66, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addComponent(labelPrecioActual)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfProductoPrecioActual, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelCodigoNoRegistrado)))
                .addContainerGap(11, Short.MAX_VALUE))
        );
        panelProductoLayout.setVerticalGroup(
            panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelProductoLayout.createSequentialGroup()
                .addGroup(panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(tfProductoCodigo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel7)
                    .addComponent(bBuscarProducto, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelPrecioActual)
                    .addComponent(tfProductoPrecioActual, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelCodigoNoRegistrado))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(panelProductoLayout.createSequentialGroup()
                        .addGroup(panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel8)
                            .addComponent(cbProductos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel9)
                            .addComponent(tfCantidad, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(labelPrecioUnit)
                            .addComponent(tfPrecioUnitario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(labelIVA)
                            .addComponent(tfProductoIVA, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(cbCambioPrecio, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
                    .addComponent(btnADD, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnDEL, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        btnAnular.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/32px-Crystal_Clear_action_editdelete.png"))); // NOI18N
        btnAnular.setText("Anular");
        btnAnular.setEnabled(false);
        btnAnular.setName("anular"); // NOI18N

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(panelResumen, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jScrollPane1)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(btnAnular)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btnAceptar)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnCancelar))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(layout.createSequentialGroup()
                                .addComponent(panelDatosCompra, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(panelOpcionesCompra, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addComponent(panelProducto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING, false)
                    .addComponent(panelDatosCompra, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(panelOpcionesCompra, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, 12, Short.MAX_VALUE)
                .addComponent(panelProducto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 122, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(panelResumen, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnAceptar, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnCancelar, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnAnular, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void cbFormaPagoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbFormaPagoActionPerformed
        //habilitando el textfield para poner la cantidad de días de cta cte
        tfDias.setEnabled((cbFormaPago.getSelectedItem().toString().equalsIgnoreCase("Cta Cte")));
        tfDias.setRequestFocusEnabled((cbFormaPago.getSelectedItem().toString().equalsIgnoreCase("Cta Cte")));
        tfDias.setText("");
        //deshabilita la selección de caja
        //ya que cuando es CtaCte, no hay movimiento de Caja
        cbCaja.setEnabled(!tfDias.isEnabled());
    }//GEN-LAST:event_cbFormaPagoActionPerformed

    private void tfDiasKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfDiasKeyTyped

        soloNumeros(evt);        // TODO add your handling code here:
    }//GEN-LAST:event_tfDiasKeyTyped

    private void tfFacturaCuartoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfFacturaCuartoFocusLost
        tfFacturaCuarto.setText(UTIL.AGREGAR_CEROS(tfFacturaCuarto.getText().trim(), 4));
    }//GEN-LAST:event_tfFacturaCuartoFocusLost

    private void tfFacturaOctetoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfFacturaOctetoFocusLost
        tfFacturaOcteto.setText(UTIL.AGREGAR_CEROS(tfFacturaOcteto.getText().trim(), 8));
    }//GEN-LAST:event_tfFacturaOctetoFocusLost

    private void tfFacturaCuartoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfFacturaCuartoKeyTyped
        soloNumeros(evt);
    }//GEN-LAST:event_tfFacturaCuartoKeyTyped

    private void tfFacturaOctetoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfFacturaOctetoKeyTyped
        soloNumeros(evt);
    }//GEN-LAST:event_tfFacturaOctetoKeyTyped

    private void cbFormaPagoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_cbFormaPagoFocusLost
        if (tfDias.isEnabled()) {
            tfDias.requestFocus();
        }
    }//GEN-LAST:event_cbFormaPagoFocusLost

    private void tfPercIVAKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfPercIVAKeyTyped
        UTIL.solo_numeros_y_un_punto(tfPercIVA.getText(), evt);
    }//GEN-LAST:event_tfPercIVAKeyTyped

    private void tfCantidadFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfCantidadFocusGained
        tfCantidad.setSelectionStart(0);
    }//GEN-LAST:event_tfCantidadFocusGained

    private void tfPrecioUnitarioFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfPrecioUnitarioFocusGained
        tfPrecioUnitario.setSelectionStart(0);
    }//GEN-LAST:event_tfPrecioUnitarioFocusGained

    private void tfFacturaCuartoFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfFacturaCuartoFocusGained
        tfFacturaCuarto.setSelectionStart(0);
    }//GEN-LAST:event_tfFacturaCuartoFocusGained

    private void tfFacturaOctetoFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfFacturaOctetoFocusGained
        tfFacturaOcteto.setSelectionStart(0);
    }//GEN-LAST:event_tfFacturaOctetoFocusGained

    private void tfProductoCodigoFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfProductoCodigoFocusGained
        tfProductoCodigo.setSelectionStart(0);
    }//GEN-LAST:event_tfProductoCodigoFocusGained

    private void tfCantidadKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfCantidadKeyReleased
        if (evt.getKeyCode() == 10) {
            tfPrecioUnitario.requestFocus();
        }
    }//GEN-LAST:event_tfCantidadKeyReleased

    private void tfPrecioUnitarioKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfPrecioUnitarioKeyReleased
        if (evt.getKeyCode() == 10) {
            cbCambioPrecio.requestFocus();
        }
    }//GEN-LAST:event_tfPrecioUnitarioKeyReleased

    private void cbCambioPrecioKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_cbCambioPrecioKeyReleased
        if (evt.getKeyCode() == 10) {
            btnADD.requestFocus();
        }
    }//GEN-LAST:event_cbCambioPrecioKeyReleased
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton bBuscarProducto;
    private javax.swing.JButton btnADD;
    private javax.swing.JButton btnAceptar;
    private javax.swing.JButton btnAnular;
    private javax.swing.JButton btnCancelar;
    private javax.swing.JButton btnDEL;
    private javax.swing.JComboBox cbCaja;
    private javax.swing.JComboBox cbCambioPrecio;
    private javax.swing.JComboBox cbFacturaTipo;
    private javax.swing.JComboBox cbFormaPago;
    private javax.swing.JComboBox cbProductos;
    private javax.swing.JComboBox cbProveedor;
    private javax.swing.JComboBox cbSucursal;
    private javax.swing.JCheckBox checkActualizaStock;
    private com.toedter.calendar.JDateChooser dcFechaFactura;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel20;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTable jTable1;
    private javax.swing.JLabel labelCaja;
    private javax.swing.JLabel labelCodigoNoRegistrado;
    private javax.swing.JLabel labelDias;
    private javax.swing.JLabel labelFacturaNumero;
    private javax.swing.JLabel labelFacturaTipo;
    private javax.swing.JLabel labelFecha;
    private javax.swing.JLabel labelFormaPago;
    private javax.swing.JLabel labelIVA;
    private javax.swing.JLabel labelMovimiento;
    private javax.swing.JLabel labelPrecioActual;
    private javax.swing.JLabel labelPrecioUnit;
    private javax.swing.JLabel labelProveedor;
    private javax.swing.JPanel panelDatosCompra;
    private javax.swing.JPanel panelOpcionesCompra;
    private javax.swing.JPanel panelProducto;
    private javax.swing.JPanel panelResumen;
    private javax.swing.JTextField tfCantidad;
    private javax.swing.JTextField tfDias;
    private javax.swing.JTextField tfFacturaCuarto;
    private javax.swing.JTextField tfFacturaOcteto;
    private javax.swing.JTextField tfGravado;
    private javax.swing.JTextField tfNumMovimiento;
    private javax.swing.JTextField tfPercIVA;
    private javax.swing.JTextField tfPrecioUnitario;
    private javax.swing.JTextField tfProductoCodigo;
    private javax.swing.JTextField tfProductoIVA;
    private javax.swing.JTextField tfProductoPrecioActual;
    private javax.swing.JTextField tfTotal;
    private javax.swing.JTextField tfTotalIVA105;
    private javax.swing.JTextField tfTotalIVA21;
    private javax.swing.JTextField tfTotalPercepcion;
    // End of variables declaration//GEN-END:variables

    /**
     * Setea un mensaje de información. Si
     *
     * @param messageType < -1 || > 3 no hace NADA.
     * @param msg,.. mensaje.
     * @param titulo (puede tener título o no).
     * @param messageType -1=PLAIN, 0=ERROR, 1=INFO, 2=WARRNING.
     */
    public void showMessage(String msg, String titulo, int messageType) {
        if (messageType >= -1 && messageType <= 2) {
            javax.swing.JOptionPane.showMessageDialog(this, msg, titulo, messageType);
        } else {
            javax.swing.JOptionPane.showMessageDialog(this, msg);
        }
    }

    public void addListener(Object o) {
        btnADD.addActionListener((ActionListener) o);
        btnDEL.addActionListener((ActionListener) o);
        bBuscarProducto.addActionListener((ActionListener) o);
        btnCancelar.addActionListener((ActionListener) o);
        btnAceptar.addActionListener((ActionListener) o);
        try {
            jTable1.addMouseListener((MouseListener) o);
        } catch (ClassCastException e) {
        }
        tfProductoCodigo.addKeyListener((KeyListener) o);
        tfFacturaCuarto.addKeyListener((KeyListener) o);
        tfFacturaOcteto.addKeyListener((KeyListener) o);
    }

    private void soloNumeros(KeyEvent evt) {
        int k = evt.getKeyChar();
        if (k < 48 || k > 57) {
            evt.setKeyChar((char) java.awt.event.KeyEvent.VK_CLEAR);
        }
    }

    public JTextField getTfProductoCodigo() {
        return tfProductoCodigo;
    }

    // <editor-fold defaultstate="collapsed" desc="GETTERS">
    public JComboBox getCbProductos() {
        return cbProductos;
    }

    public JComboBox getCbCaja() {
        return cbCaja;
    }

    public JTextField getTfNumMovimiento() {
        return tfNumMovimiento;
    }

    public JTable getjTable1() {
        return jTable1;
    }

    public javax.swing.table.DefaultTableModel getDTM() {
        return (javax.swing.table.DefaultTableModel) jTable1.getModel();
    }

    public JComboBox getCbCambioPrecio() {
        return cbCambioPrecio;
    }

    public JComboBox getCbFacturaTipo() {
        return cbFacturaTipo;
    }

    public JComboBox getCbFormaPago() {
        return cbFormaPago;
    }

    public JComboBox getCbProveedor() {
        return cbProveedor;
    }

    public JComboBox getCbSucursal() {
        return cbSucursal;
    }

    public JCheckBox getCheckActualizaStock() {
        return checkActualizaStock;
    }

    public java.util.Date getDcFechaFactura() {
        return dcFechaFactura.getDate();
    }

    public JTextField getTfCantidad() {
        return tfCantidad;
    }

    public String getTfDias() {
        return tfDias.getText().trim();
    }

    public String getTfFacturaCuarto() {
        return tfFacturaCuarto.getText().trim();
    }

    public String getTfFacturaOcteto() {
        return tfFacturaOcteto.getText().trim();
    }

    public String getTfGravado() {
        return tfGravado.getText().trim();
    }

    public String getTfMovimiento() {
        return tfNumMovimiento.getText().trim();
    }

    public String getTfPercIVA() {
        return tfPercIVA.getText().trim();
    }

    public String getTfPrecioUnitario() {
        return tfPrecioUnitario.getText().trim();
    }

    public String getTfProductoIVA() {
        return tfProductoIVA.getText().trim();
    }

    public String getTfTotal() {
        return tfTotal.getText().trim();
    }

    public String getTfTotalIVA105() {
        return tfTotalIVA105.getText().trim();
    }

    public String getTfTotalIVA21() {
        return tfTotalIVA21.getText().trim();
    }// </editor-fold>

    // <editor-fold defaultstate="collapsed" desc="SETTERS">
    public void setDcFechaFactura(java.util.Date fechaFactura) {
        dcFechaFactura.setDate(fechaFactura);
    }

    public void setTfDias(String tfDias) {
        this.tfDias.setText(tfDias);
    }

    public void setTfFacturaCuarto(String tfFacturaCuarto) {
        this.tfFacturaCuarto.setText(tfFacturaCuarto);
    }

    public void setTfFacturaOcteto(String tfFacturaOcteto) {
        this.tfFacturaOcteto.setText(tfFacturaOcteto);
    }

    public void setTfNumMovimiento(String tfNumMovimiento) {
        this.tfNumMovimiento.setText(tfNumMovimiento);
    }

    public void setTfProductoCodigo(String tfProductoCodigo) {
        this.tfProductoCodigo.setText(tfProductoCodigo);
    }

    public void setTfProductoIVA(String tfProductoIVA) {
        this.tfProductoIVA.setText(tfProductoIVA);
    }

    public void setTfProductoPrecioActual(String ProductoPrecioActual) {
        this.tfProductoPrecioActual.setText(ProductoPrecioActual);
    }

    public void setTfGravado(String tfGravado) {
        this.tfGravado.setText(tfGravado);
    }

    public void setTfTotal(String tfTotal) {
        this.tfTotal.setText(tfTotal);
    }

    public void setTfTotalIVA105(String tfTotalIVA105) {
        this.tfTotalIVA105.setText(tfTotalIVA105);
    }

    public void setTfTotalIVA21(String tfTotalIVA21) {
        this.tfTotalIVA21.setText(tfTotalIVA21);
    }

    public JTextField getTfTotalPercepcion() {
        return tfTotalPercepcion;
    }
    // </editor-fold>

    public void limpiarPanelProducto() {
        tfProductoCodigo.setText("");
        tfProductoPrecioActual.setText("");
        tfProductoIVA.setText("");
        tfCantidad.setText("");
        tfPrecioUnitario.setText("");
        tfPercIVA.setText("0");
        checkActualizaStock.setSelected(true);
    }

    public void limpiarTabla() {
        for (int i = getDTM().getRowCount() - 1; i > -1; i--) {
            getDTM().removeRow(i);
        }
    }

    public void limpiarPanelDatos() {
        tfFacturaCuarto.setText("");
        tfFacturaOcteto.setText("");
        cbFormaPago.setSelectedIndex(0);
        tfDias.setText("");
    }

    public void limpiarResumen() {
        tfGravado.setText("0");
        tfTotal.setText("0");
        tfTotalIVA105.setText("0");
        tfTotalIVA21.setText("0");
    }

    public JButton getBtnAnular() {
        return btnAnular;
    }

    public void modoVista(boolean enable) {
        cbProveedor.setEnabled(enable);
        cbSucursal.setEnabled(enable);
        cbCaja.setEnabled(enable);
        dcFechaFactura.setEnabled(enable);
        tfFacturaCuarto.setEnabled(enable);
        tfFacturaOcteto.setEnabled(enable);
        cbFormaPago.setEnabled(enable);
        tfDias.setEnabled(enable);
        checkActualizaStock.setEnabled(enable);
        tfPercIVA.setEnabled(enable);
        tfProductoCodigo.setEnabled(enable);
        cbProductos.setEnabled(enable);
        tfCantidad.setEnabled(enable);
        cbCambioPrecio.setEnabled(enable);
        bBuscarProducto.setEnabled(enable);
        btnADD.setEnabled(enable);
        btnDEL.setEnabled(enable);
        btnAceptar.setEnabled(enable);
        btnCancelar.setEnabled(enable);
        btnAnular.setEnabled(enable);
    }

    public void labelCodigoNoRegistrado(boolean visible) {
        labelCodigoNoRegistrado.setVisible(visible);
    }

    public void setTfPrecioUnitario(String string) {
        tfPrecioUnitario.setText(string);
    }

    /**
     * Esconde todo lo innecesario para realizar Ordenes de despacho.
     * labelPrecioActual y tfProductoPrecioActual se usan para mostrar el stock
     * general del producto seleccionado.
     */
    public void panelToOrden() {
        bBuscarProducto.setVisible(false);
        panelResumen.setVisible(false);
        labelProveedor.setVisible(false);
        cbProveedor.setVisible(false);
        labelFecha.setVisible(false);
        dcFechaFactura.setVisible(false);
        labelFacturaNumero.setVisible(false);
        tfFacturaCuarto.setVisible(false);
        tfFacturaOcteto.setVisible(false);
        labelFacturaTipo.setVisible(false);
        cbFacturaTipo.setVisible(false);
        labelCaja.setVisible(false);
        cbCaja.setVisible(false);
        labelFormaPago.setVisible(false);
        cbFormaPago.setVisible(false);
        labelDias.setVisible(false);
        tfDias.setVisible(false);
        panelOpcionesCompra.setVisible(false);
        ((TitledBorder) panelDatosCompra.getBorder()).setTitle("     ");
//      labelMovimiento.setText("Orden Nº");
        labelMovimiento.setVisible(false);
        tfNumMovimiento.setVisible(false);
        labelPrecioActual.setText("Stock");
        tfProductoPrecioActual.setToolTipText("Stock actual general");
        labelPrecioUnit.setVisible(false);
        tfPrecioUnitario.setVisible(false);
        labelIVA.setVisible(false);
        tfProductoIVA.setVisible(false);
        cbCambioPrecio.setVisible(false);
        btnAnular.setVisible(false);
    }

    public JButton getbBuscarProducto() {
        return bBuscarProducto;
    }

    public JButton getBtnADD() {
        return btnADD;
    }

    public JButton getBtnAceptar() {
        return btnAceptar;
    }

    public JButton getBtnCancelar() {
        return btnCancelar;
    }

    public JButton getBtnDEL() {
        return btnDEL;
    }

    public void setTfPercIVA(String string) {
        tfPercIVA.setText(string);
    }
}
