/*
 * JDFacturaCompra.java
 *
 * Created on 08/02/2010, 17:36:00
 */
package gui;

import java.awt.Color;
import java.awt.Window;
import java.awt.event.*;
import utilities.general.UTIL;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JComboBox;
import javax.swing.JTable;
import javax.swing.JTextField;
import javax.swing.border.TitledBorder;
import javax.swing.table.DefaultTableModel;
import utilities.gui.SwingUtil;

/**
 *
 * @author FiruzzZ
 */
public class JDFacturaCompra extends javax.swing.JDialog {

    /**
     * View para carga de FacturasCompra y Ordenes de Compra
     *
     * @param parent
     * @param modal
     * @param modo_view 1= FacturaCompra, 2= OrdenCompra, 3=NotaCreditoProveedor
     */
    public JDFacturaCompra(Window parent, boolean modal) {
        super(parent, modal ? DEFAULT_MODALITY_TYPE : ModalityType.MODELESS);
        initComponents();
        setLocation(this.getOwner().getX() + 100, this.getOwner().getY() + 50);
        labelCodigoNoRegistrado.setVisible(false);
        labelDescuento.setVisible(false);
        cbDesc.setVisible(false);
        tfProductoDesc.setVisible(false);
    }

    /**
     * This method is called from within the constructor to initialize the form.
     * WARNING: Do NOT modify this code. The content of this method is always
     * regenerated by the Form Editor.
     */
    @SuppressWarnings("unchecked")
    // <editor-fold defaultstate="collapsed" desc="Generated Code">//GEN-BEGIN:initComponents
    private void initComponents() {

        panelDatosCompra = new javax.swing.JPanel();
        labelFormaPago = new javax.swing.JLabel();
        cbProveedor = new javax.swing.JComboBox();
        cbFacturaTipo = new javax.swing.JComboBox();
        labelProveedor = new javax.swing.JLabel();
        labelDias = new javax.swing.JLabel();
        labelFecha = new javax.swing.JLabel();
        cbFormaPago = new javax.swing.JComboBox();
        tfDias = new javax.swing.JTextField();
        dcFechaFactura = new com.toedter.calendar.JDateChooser();
        labelFacturaNumero = new javax.swing.JLabel();
        tfFacturaCuarto = new javax.swing.JTextField();
        tfFacturaOcteto = new javax.swing.JTextField();
        labelFacturaTipo = new javax.swing.JLabel();
        labelSucursal = new javax.swing.JLabel();
        cbSucursal = new javax.swing.JComboBox();
        cbCaja = new javax.swing.JComboBox();
        labelCaja = new javax.swing.JLabel();
        labelMovimiento = new javax.swing.JLabel();
        tfNumMovimiento = new javax.swing.JTextField();
        labelUnidad = new javax.swing.JLabel();
        cbUnidadDeNegocio = new javax.swing.JComboBox();
        labelCuenta = new javax.swing.JLabel();
        cbCuenta = new javax.swing.JComboBox();
        labelSubCuenta = new javax.swing.JLabel();
        cbSubCuenta = new javax.swing.JComboBox();
        labelObservacion = new javax.swing.JLabel();
        tfObservacion = new javax.swing.JTextField();
        labelObservacionCharactersCount = new javax.swing.JLabel();
        jScrollPane1 = new javax.swing.JScrollPane();
        jTable1 = new javax.swing.JTable();
        panelResumen = new javax.swing.JPanel();
        jLabel12 = new javax.swing.JLabel();
        tfGravado = new javax.swing.JTextField();
        tfTotal = new javax.swing.JTextField();
        jLabel13 = new javax.swing.JLabel();
        jLabel14 = new javax.swing.JLabel();
        tfTotalIVA21 = new javax.swing.JTextField();
        jLabel16 = new javax.swing.JLabel();
        tfTotalIVA105 = new javax.swing.JTextField();
        jLabel1 = new javax.swing.JLabel();
        tfTotalPercepcion = new javax.swing.JTextField();
        jLabel2 = new javax.swing.JLabel();
        tfTotalOtrosImpuestos = new javax.swing.JTextField();
        jLabel5 = new javax.swing.JLabel();
        tfTotalImpuestosNoRecuperables = new javax.swing.JTextField();
        jLabel30 = new javax.swing.JLabel();
        tfTotalNoGravado = new javax.swing.JTextField();
        btnCancelar = new javax.swing.JButton();
        btnAceptar = new javax.swing.JButton();
        panelOpcionesCompra = new javax.swing.JPanel();
        checkActualizaStock = new javax.swing.JCheckBox();
        jLabel17 = new javax.swing.JLabel();
        tfPercIIBB = new javax.swing.JTextField();
        jLabel18 = new javax.swing.JLabel();
        tfOtrosImpuestosRecuperables = new javax.swing.JTextField();
        jLabel19 = new javax.swing.JLabel();
        tfOtrosImpuestosNoRecuperables = new javax.swing.JTextField();
        jLabel3 = new javax.swing.JLabel();
        jLabel4 = new javax.swing.JLabel();
        jLabel21 = new javax.swing.JLabel();
        tfDescuento = new javax.swing.JTextField();
        panelProducto = new javax.swing.JPanel();
        jLabel7 = new javax.swing.JLabel();
        tfProductoCodigo = new javax.swing.JTextField();
        bBuscarProducto = new javax.swing.JButton();
        jLabel8 = new javax.swing.JLabel();
        jLabel9 = new javax.swing.JLabel();
        labelPrecioUnit = new javax.swing.JLabel();
        labelIVA = new javax.swing.JLabel();
        tfCantidad = new javax.swing.JTextField();
        tfPrecioUnitario = new javax.swing.JTextField();
        tfProductoIVA = new javax.swing.JTextField();
        btnADD = new javax.swing.JButton();
        cbCambioPrecio = new javax.swing.JComboBox();
        btnDEL = new javax.swing.JButton();
        labelPrecioActual = new javax.swing.JLabel();
        tfProductoPrecioActual = new javax.swing.JTextField();
        cbProductos = new javax.swing.JComboBox();
        labelCodigoNoRegistrado = new javax.swing.JLabel();
        labelCodigoNoRegistrado.setVisible(false);
        labelDescuento = new javax.swing.JLabel();
        cbDesc = new javax.swing.JComboBox();
        tfProductoDesc = new javax.swing.JTextField();
        btnAnular = new javax.swing.JButton();

        setDefaultCloseOperation(javax.swing.WindowConstants.DISPOSE_ON_CLOSE);
        setTitle("Factura - Compra");
        setResizable(false);

        panelDatosCompra.setBorder(javax.swing.BorderFactory.createTitledBorder("Datos compra"));

        labelFormaPago.setText("Forma Pago");

        labelProveedor.setText("Proveedor");

        labelDias.setText("Días");

        labelFecha.setText("Fecha");

        cbFormaPago.addActionListener(new java.awt.event.ActionListener() {
            public void actionPerformed(java.awt.event.ActionEvent evt) {
                cbFormaPagoActionPerformed(evt);
            }
        });
        cbFormaPago.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusLost(java.awt.event.FocusEvent evt) {
                cbFormaPagoFocusLost(evt);
            }
        });

        tfDias.setColumns(3);
        tfDias.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        tfDias.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        tfDias.setEnabled(false);
        tfDias.setName("dias"); // NOI18N
        tfDias.setRequestFocusEnabled(false);
        tfDias.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                tfDiasKeyTyped(evt);
            }
        });

        labelFacturaNumero.setText("Nº");

        tfFacturaCuarto.setColumns(4);
        tfFacturaCuarto.setName("cuarteto"); // NOI18N
        tfFacturaCuarto.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                xxx(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfFacturaCuartoFocusLost(evt);
            }
        });
        tfFacturaCuarto.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                tfFacturaCuartoKeyTyped(evt);
            }
        });

        tfFacturaOcteto.setColumns(8);
        tfFacturaOcteto.setName("octeto"); // NOI18N
        tfFacturaOcteto.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                xxx(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfFacturaOctetoFocusLost(evt);
            }
        });
        tfFacturaOcteto.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                tfFacturaOctetoKeyTyped(evt);
            }
        });

        labelFacturaTipo.setText("Tipo");

        labelSucursal.setText("Sucursal");

        cbCaja.setName("caja"); // NOI18N

        labelCaja.setText("Caja");

        labelMovimiento.setText("Mov.");

        tfNumMovimiento.setEditable(false);
        tfNumMovimiento.setColumns(3);
        tfNumMovimiento.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        tfNumMovimiento.setHorizontalAlignment(javax.swing.JTextField.CENTER);
        tfNumMovimiento.setText("0");
        tfNumMovimiento.setToolTipText("Cantidad de Facturas Compra registradas por el sistema");
        tfNumMovimiento.setFocusable(false);
        tfNumMovimiento.setRequestFocusEnabled(false);

        labelUnidad.setText("Unid. de Negocio");

        cbUnidadDeNegocio.setName(""); // NOI18N

        labelCuenta.setText("Cuenta");

        cbCuenta.setName(""); // NOI18N

        labelSubCuenta.setText("Sub Cuenta");

        cbSubCuenta.setName(""); // NOI18N

        labelObservacion.setText("Observación");

        tfObservacion.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tfObservacionFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfObservacionFocusLost(evt);
            }
        });
        tfObservacion.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                tfObservacionKeyReleased(evt);
            }
        });

        labelObservacionCharactersCount.setText("0/100");
        labelObservacionCharactersCount.setFocusable(false);
        labelObservacionCharactersCount.setRequestFocusEnabled(false);

        javax.swing.GroupLayout panelDatosCompraLayout = new javax.swing.GroupLayout(panelDatosCompra);
        panelDatosCompra.setLayout(panelDatosCompraLayout);
        panelDatosCompraLayout.setHorizontalGroup(
            panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelDatosCompraLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(labelCaja, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(labelUnidad, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(labelCuenta, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(labelObservacion, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(labelProveedor, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(labelFecha, javax.swing.GroupLayout.Alignment.TRAILING))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panelDatosCompraLayout.createSequentialGroup()
                        .addComponent(tfObservacion, javax.swing.GroupLayout.PREFERRED_SIZE, 424, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelObservacionCharactersCount))
                    .addGroup(panelDatosCompraLayout.createSequentialGroup()
                        .addComponent(cbCaja, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelFacturaTipo)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(cbFacturaTipo, javax.swing.GroupLayout.PREFERRED_SIZE, 59, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelFacturaNumero)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfFacturaCuarto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfFacturaOcteto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(panelDatosCompraLayout.createSequentialGroup()
                        .addComponent(dcFechaFactura, javax.swing.GroupLayout.PREFERRED_SIZE, 120, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelFormaPago)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(cbFormaPago, javax.swing.GroupLayout.PREFERRED_SIZE, 97, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelDias)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfDias, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(panelDatosCompraLayout.createSequentialGroup()
                        .addComponent(cbProveedor, javax.swing.GroupLayout.PREFERRED_SIZE, 270, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelMovimiento)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfNumMovimiento, javax.swing.GroupLayout.PREFERRED_SIZE, 48, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(panelDatosCompraLayout.createSequentialGroup()
                        .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(cbUnidadDeNegocio, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(cbCuenta, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(labelSucursal, javax.swing.GroupLayout.Alignment.TRAILING)
                            .addComponent(labelSubCuenta, javax.swing.GroupLayout.Alignment.TRAILING))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(cbSucursal, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(cbSubCuenta, javax.swing.GroupLayout.PREFERRED_SIZE, 200, javax.swing.GroupLayout.PREFERRED_SIZE)))))
        );
        panelDatosCompraLayout.setVerticalGroup(
            panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelDatosCompraLayout.createSequentialGroup()
                .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(tfNumMovimiento, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelMovimiento)
                    .addComponent(labelProveedor)
                    .addComponent(cbProveedor, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(cbSucursal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelSucursal)
                    .addComponent(labelUnidad)
                    .addComponent(cbUnidadDeNegocio, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(labelCuenta)
                    .addComponent(cbCuenta, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelSubCuenta)
                    .addComponent(cbSubCuenta, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(dcFechaFactura, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelFormaPago)
                    .addComponent(tfDias, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelDias)
                    .addComponent(cbFormaPago, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelFecha))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(labelCaja)
                    .addComponent(cbCaja, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelFacturaTipo)
                    .addComponent(tfFacturaCuarto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfFacturaOcteto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelFacturaNumero)
                    .addComponent(cbFacturaTipo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelDatosCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(labelObservacion)
                    .addComponent(tfObservacion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelObservacionCharactersCount))
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        jScrollPane1.setAutoscrolls(true);

        jTable1.setFocusable(false);
        jTable1.setRequestFocusEnabled(false);
        jScrollPane1.setViewportView(jTable1);

        panelResumen.setBorder(javax.swing.BorderFactory.createTitledBorder("Resumen"));

        jLabel12.setText("Gravado");

        tfGravado.setEditable(false);
        tfGravado.setColumns(8);
        tfGravado.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        tfGravado.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfGravado.setText("0");
        tfGravado.setToolTipText("Gravado - Descuento");
        tfGravado.setFocusable(false);
        tfGravado.setRequestFocusEnabled(false);

        tfTotal.setEditable(false);
        tfTotal.setColumns(8);
        tfTotal.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        tfTotal.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfTotal.setText("0");
        tfTotal.setToolTipText(getDetailTotal());
        tfTotal.setFocusable(false);
        tfTotal.setRequestFocusEnabled(false);

        jLabel13.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        jLabel13.setText("Total");

        jLabel14.setText("  IVA 21%");

        tfTotalIVA21.setEditable(false);
        tfTotalIVA21.setColumns(6);
        tfTotalIVA21.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        tfTotalIVA21.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfTotalIVA21.setText("0");
        tfTotalIVA21.setFocusable(false);
        tfTotalIVA21.setRequestFocusEnabled(false);

        jLabel16.setText("IVA 10,5%");

        tfTotalIVA105.setEditable(false);
        tfTotalIVA105.setColumns(6);
        tfTotalIVA105.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        tfTotalIVA105.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfTotalIVA105.setText("0");
        tfTotalIVA105.setFocusable(false);
        tfTotalIVA105.setRequestFocusEnabled(false);

        jLabel1.setText("Perc. IIBB");

        tfTotalPercepcion.setEditable(false);
        tfTotalPercepcion.setColumns(6);
        tfTotalPercepcion.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        tfTotalPercepcion.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfTotalPercepcion.setText("0");
        tfTotalPercepcion.setFocusable(false);
        tfTotalPercepcion.setRequestFocusEnabled(false);

        jLabel2.setText("IVA 27%");

        tfTotalOtrosImpuestos.setEditable(false);
        tfTotalOtrosImpuestos.setColumns(6);
        tfTotalOtrosImpuestos.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        tfTotalOtrosImpuestos.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfTotalOtrosImpuestos.setText("0");
        tfTotalOtrosImpuestos.setToolTipText("Otros Impuestos Recuperables (Ej.: IVA 27%)");
        tfTotalOtrosImpuestos.setFocusable(false);
        tfTotalOtrosImpuestos.setRequestFocusEnabled(false);

        jLabel5.setText("Imp. No Recu");

        tfTotalImpuestosNoRecuperables.setEditable(false);
        tfTotalImpuestosNoRecuperables.setColumns(6);
        tfTotalImpuestosNoRecuperables.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        tfTotalImpuestosNoRecuperables.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfTotalImpuestosNoRecuperables.setText("0");
        java.util.ResourceBundle bundle = java.util.ResourceBundle.getBundle("resources"); // NOI18N
        tfTotalImpuestosNoRecuperables.setToolTipText(bundle.getString("help.impuestosnorecuperables")); // NOI18N
        tfTotalImpuestosNoRecuperables.setFocusable(false);
        tfTotalImpuestosNoRecuperables.setRequestFocusEnabled(false);

        jLabel30.setHorizontalAlignment(javax.swing.SwingConstants.CENTER);
        jLabel30.setText("No Gravado");

        tfTotalNoGravado.setEditable(false);
        tfTotalNoGravado.setColumns(6);
        tfTotalNoGravado.setFont(new java.awt.Font("Tahoma", 1, 11)); // NOI18N
        tfTotalNoGravado.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfTotalNoGravado.setText("0");
        tfTotalNoGravado.setFocusable(false);
        tfTotalNoGravado.setRequestFocusEnabled(false);

        javax.swing.GroupLayout panelResumenLayout = new javax.swing.GroupLayout(panelResumen);
        panelResumen.setLayout(panelResumenLayout);
        panelResumenLayout.setHorizontalGroup(
            panelResumenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelResumenLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panelResumenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel12)
                    .addComponent(tfGravado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelResumenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panelResumenLayout.createSequentialGroup()
                        .addComponent(tfTotalIVA105, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfTotalIVA21, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(panelResumenLayout.createSequentialGroup()
                        .addComponent(jLabel16)
                        .addGap(18, 18, 18)
                        .addComponent(jLabel14)))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelResumenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(tfTotalPercepcion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel1))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelResumenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel2)
                    .addComponent(tfTotalOtrosImpuestos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelResumenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel5)
                    .addComponent(tfTotalImpuestosNoRecuperables, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelResumenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel30)
                    .addComponent(tfTotalNoGravado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(18, 18, Short.MAX_VALUE)
                .addGroup(panelResumenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(panelResumenLayout.createSequentialGroup()
                        .addComponent(tfTotal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addContainerGap())
                    .addGroup(panelResumenLayout.createSequentialGroup()
                        .addComponent(jLabel13)
                        .addGap(35, 35, 35))))
        );
        panelResumenLayout.setVerticalGroup(
            panelResumenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelResumenLayout.createSequentialGroup()
                .addGroup(panelResumenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(jLabel5)
                    .addComponent(jLabel14)
                    .addComponent(jLabel16)
                    .addComponent(jLabel1)
                    .addComponent(jLabel2)
                    .addComponent(jLabel12)
                    .addComponent(jLabel13)
                    .addComponent(jLabel30, javax.swing.GroupLayout.PREFERRED_SIZE, 14, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelResumenLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(tfTotalIVA21, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfTotalOtrosImpuestos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfTotalImpuestosNoRecuperables, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfTotalIVA105, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfTotalPercepcion, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfGravado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfTotal, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(tfTotalNoGravado, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)))
        );

        btnCancelar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/cancelar.png"))); // NOI18N
        btnCancelar.setMnemonic('c');
        btnCancelar.setText("Cancelar");
        btnCancelar.setName("cancelar"); // NOI18N

        btnAceptar.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/32px-Crystal_Clear_action_apply.png"))); // NOI18N
        btnAceptar.setMnemonic('a');
        btnAceptar.setText("Aceptar");
        btnAceptar.setName("aceptar"); // NOI18N

        panelOpcionesCompra.setBorder(javax.swing.BorderFactory.createTitledBorder("Opciones"));

        checkActualizaStock.setSelected(true);
        checkActualizaStock.setText("Actualiza stock");
        checkActualizaStock.setToolTipText("Si la carga de factura afectará el stock");

        jLabel17.setText("Perc. II BB (Ingresos Brutos)");
        jLabel17.setToolTipText("Percepción Ingresos Brutos");

        tfPercIIBB.setColumns(8);
        tfPercIIBB.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfPercIIBB.setText("0");
        tfPercIIBB.setToolTipText("Monto de Percepción Ingresos Brutos");
        tfPercIIBB.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                xxx(evt);
            }
        });
        tfPercIIBB.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                tfPercIIBBKeyTyped(evt);
            }
        });

        jLabel18.setText("Otros Impuestos Recuperables");

        tfOtrosImpuestosRecuperables.setColumns(8);
        tfOtrosImpuestosRecuperables.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfOtrosImpuestosRecuperables.setText("0");
        tfOtrosImpuestosRecuperables.setToolTipText(bundle.getString("help.impuestosrecuperables")); // NOI18N
        tfOtrosImpuestosRecuperables.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                xxx(evt);
            }
        });
        tfOtrosImpuestosRecuperables.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                tfOtrosImpuestosRecuperablesKeyTyped(evt);
            }
        });

        jLabel19.setText("Otros Impues. No Recuperables");

        tfOtrosImpuestosNoRecuperables.setColumns(8);
        tfOtrosImpuestosNoRecuperables.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfOtrosImpuestosNoRecuperables.setText("0");
        tfOtrosImpuestosNoRecuperables.setToolTipText("Impuestos Varios");
        tfOtrosImpuestosNoRecuperables.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                xxx(evt);
            }
        });
        tfOtrosImpuestosNoRecuperables.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                tfOtrosImpuestosNoRecuperablesKeyTyped(evt);
            }
        });

        jLabel3.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/16px_blue_system-help.png"))); // NOI18N
        jLabel3.setText(" ");
        jLabel3.setToolTipText(bundle.getString("help.impuestosnorecuperables")); // NOI18N

        jLabel4.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/16px_blue_system-help.png"))); // NOI18N
        jLabel4.setText(" ");
        jLabel4.setToolTipText(bundle.getString("help.impuestosrecuperables")); // NOI18N

        jLabel21.setText("Descuento");

        tfDescuento.setColumns(8);
        tfDescuento.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfDescuento.setText("0");
        tfDescuento.setToolTipText("Se aplica sobre el total Gravado");
        tfDescuento.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                xxx(evt);
            }
        });
        tfDescuento.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                tfDescuentoKeyTyped(evt);
            }
        });

        javax.swing.GroupLayout panelOpcionesCompraLayout = new javax.swing.GroupLayout(panelOpcionesCompra);
        panelOpcionesCompra.setLayout(panelOpcionesCompraLayout);
        panelOpcionesCompraLayout.setHorizontalGroup(
            panelOpcionesCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelOpcionesCompraLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panelOpcionesCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(checkActualizaStock)
                    .addComponent(jLabel18)
                    .addComponent(jLabel17)
                    .addComponent(tfPercIIBB, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addGroup(panelOpcionesCompraLayout.createSequentialGroup()
                        .addComponent(tfOtrosImpuestosRecuperables, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel4))
                    .addComponent(jLabel19)
                    .addGroup(panelOpcionesCompraLayout.createSequentialGroup()
                        .addComponent(tfOtrosImpuestosNoRecuperables, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(jLabel3))
                    .addComponent(jLabel21)
                    .addComponent(tfDescuento, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addGap(0, 0, Short.MAX_VALUE))
        );
        panelOpcionesCompraLayout.setVerticalGroup(
            panelOpcionesCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelOpcionesCompraLayout.createSequentialGroup()
                .addComponent(checkActualizaStock)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel17)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tfPercIIBB, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel18)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelOpcionesCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(tfOtrosImpuestosRecuperables, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel4))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel19)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelOpcionesCompraLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(tfOtrosImpuestosNoRecuperables, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel3))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jLabel21)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(tfDescuento, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addContainerGap(javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE))
        );

        panelProducto.setBorder(javax.swing.BorderFactory.createTitledBorder("Producto"));

        jLabel7.setText("Código");

        tfProductoCodigo.setColumns(4);
        tfProductoCodigo.setName("productoCodigo"); // NOI18N
        tfProductoCodigo.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tfProductoCodigoFocusGained(evt);
            }
        });

        bBuscarProducto.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/lupa.png"))); // NOI18N
        bBuscarProducto.setName("buscarProducto"); // NOI18N

        jLabel8.setText("Nombre");

        jLabel9.setText("Cantidad");

        labelPrecioUnit.setText("Precio U.");

        labelIVA.setText("IVA %");

        tfCantidad.setColumns(4);
        tfCantidad.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfCantidad.setName("productoCant"); // NOI18N
        tfCantidad.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                xxx(evt);
            }
        });
        tfCantidad.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                tfCantidadKeyReleased(evt);
            }
        });

        tfPrecioUnitario.setColumns(8);
        tfPrecioUnitario.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfPrecioUnitario.setName("productoPrecio"); // NOI18N
        tfPrecioUnitario.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                xxx(evt);
            }
        });
        tfPrecioUnitario.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                tfPrecioUnitarioKeyReleased(evt);
            }
        });

        tfProductoIVA.setEditable(false);
        tfProductoIVA.setColumns(4);
        tfProductoIVA.setEnabled(false);
        tfProductoIVA.setFocusable(false);
        tfProductoIVA.setRequestFocusEnabled(false);

        btnADD.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/add.png"))); // NOI18N
        btnADD.setToolTipText("Agregar producto");
        btnADD.setName("add"); // NOI18N

        cbCambioPrecio.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "Última", "Anterior", "PPP" }));
        cbCambioPrecio.setToolTipText("<html>Fijación de costo compra:\n<br>Última compra\n<br>Compra Anterior\n<br>PPP (Precio Ponderado Promedio)\n</html>");
        cbCambioPrecio.setNextFocusableComponent(btnADD);
        cbCambioPrecio.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyReleased(java.awt.event.KeyEvent evt) {
                cbCambioPrecioKeyReleased(evt);
            }
        });

        btnDEL.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/delete.png"))); // NOI18N
        btnDEL.setToolTipText("Quitar producto");
        btnDEL.setName("del"); // NOI18N
        btnDEL.setNextFocusableComponent(tfProductoCodigo);
        btnDEL.setRequestFocusEnabled(false);

        labelPrecioActual.setText("Precio Ac.");
        labelPrecioActual.setToolTipText("Precio Actual");

        tfProductoPrecioActual.setEditable(false);
        tfProductoPrecioActual.setColumns(6);
        tfProductoPrecioActual.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfProductoPrecioActual.setToolTipText("<html>\nPrecio actual del producto\n<br>(última compra)\n</html>");
        tfProductoPrecioActual.setFocusable(false);
        tfProductoPrecioActual.setRequestFocusEnabled(false);

        labelCodigoNoRegistrado.setFont(new java.awt.Font("Tahoma", 1, 12)); // NOI18N
        labelCodigoNoRegistrado.setForeground(new java.awt.Color(255, 51, 0));
        labelCodigoNoRegistrado.setText("¡CÓDIGO NO REGISTRADO!");

        labelDescuento.setText("Desc");

        cbDesc.setModel(new javax.swing.DefaultComboBoxModel(new String[] { "%", "$" }));
        cbDesc.setToolTipText("<html>Margen de descuento aplicado al producto\n<br>% - Porcentual\n<br>$  - Monto fijo \n</html>");

        tfProductoDesc.setColumns(4);
        tfProductoDesc.setHorizontalAlignment(javax.swing.JTextField.RIGHT);
        tfProductoDesc.setText("0");
        tfProductoDesc.setToolTipText("Descuento sobre Precio Unitario");
        tfProductoDesc.addFocusListener(new java.awt.event.FocusAdapter() {
            public void focusGained(java.awt.event.FocusEvent evt) {
                tfProductoDescFocusGained(evt);
            }
            public void focusLost(java.awt.event.FocusEvent evt) {
                tfProductoDescFocusLost(evt);
            }
        });
        tfProductoDesc.addKeyListener(new java.awt.event.KeyAdapter() {
            public void keyTyped(java.awt.event.KeyEvent evt) {
                tfProductoDescKeyTyped(evt);
            }
        });

        javax.swing.GroupLayout panelProductoLayout = new javax.swing.GroupLayout(panelProducto);
        panelProducto.setLayout(panelProductoLayout);
        panelProductoLayout.setHorizontalGroup(
            panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelProductoLayout.createSequentialGroup()
                .addContainerGap()
                .addGroup(panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(jLabel8, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel9, javax.swing.GroupLayout.Alignment.TRAILING)
                    .addComponent(jLabel7, javax.swing.GroupLayout.Alignment.TRAILING))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(panelProductoLayout.createSequentialGroup()
                        .addComponent(tfCantidad, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelPrecioUnit)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfPrecioUnitario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelIVA)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(tfProductoIVA, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(labelDescuento)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(cbDesc, javax.swing.GroupLayout.PREFERRED_SIZE, 46, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(18, 18, 18)
                        .addComponent(tfProductoDesc, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btnADD, javax.swing.GroupLayout.PREFERRED_SIZE, 48, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnDEL, javax.swing.GroupLayout.PREFERRED_SIZE, 48, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addGroup(panelProductoLayout.createSequentialGroup()
                        .addGroup(panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(panelProductoLayout.createSequentialGroup()
                                .addComponent(cbProductos, javax.swing.GroupLayout.PREFERRED_SIZE, 341, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(cbCambioPrecio, javax.swing.GroupLayout.PREFERRED_SIZE, 101, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(panelProductoLayout.createSequentialGroup()
                                .addComponent(tfProductoCodigo, javax.swing.GroupLayout.PREFERRED_SIZE, 142, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(bBuscarProducto, javax.swing.GroupLayout.PREFERRED_SIZE, 66, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                                .addComponent(labelPrecioActual)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(tfProductoPrecioActual, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                                .addComponent(labelCodigoNoRegistrado)))
                        .addGap(0, 1, Short.MAX_VALUE)))
                .addContainerGap())
        );
        panelProductoLayout.setVerticalGroup(
            panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(panelProductoLayout.createSequentialGroup()
                .addGroup(panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.CENTER)
                    .addComponent(tfProductoCodigo, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(jLabel7)
                    .addComponent(bBuscarProducto, javax.swing.GroupLayout.PREFERRED_SIZE, 23, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelPrecioActual)
                    .addComponent(tfProductoPrecioActual, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(labelCodigoNoRegistrado))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.TRAILING)
                    .addGroup(panelProductoLayout.createSequentialGroup()
                        .addGroup(panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                            .addComponent(jLabel8)
                            .addComponent(cbProductos, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(cbCambioPrecio, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.UNRELATED)
                        .addGroup(panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addGroup(panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(labelDescuento)
                                .addComponent(tfProductoDesc, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(cbDesc, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                            .addGroup(panelProductoLayout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                                .addComponent(jLabel9)
                                .addComponent(tfCantidad, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(labelPrecioUnit)
                                .addComponent(tfPrecioUnitario, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                                .addComponent(labelIVA)
                                .addComponent(tfProductoIVA, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))))
                    .addComponent(btnADD, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnDEL, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addContainerGap())
        );

        btnAnular.setIcon(new javax.swing.ImageIcon(getClass().getResource("/iconos/32px-Crystal_Clear_action_editdelete.png"))); // NOI18N
        btnAnular.setText("Anular");
        btnAnular.setEnabled(false);
        btnAnular.setName("anular"); // NOI18N

        javax.swing.GroupLayout layout = new javax.swing.GroupLayout(getContentPane());
        getContentPane().setLayout(layout);
        layout.setHorizontalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addContainerGap()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addComponent(panelResumen, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                    .addComponent(jScrollPane1)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(btnAnular)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED, javax.swing.GroupLayout.DEFAULT_SIZE, Short.MAX_VALUE)
                        .addComponent(btnAceptar)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(btnCancelar))
                    .addGroup(layout.createSequentialGroup()
                        .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                            .addComponent(panelProducto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                            .addComponent(panelDatosCompra, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                        .addGap(10, 10, 10)
                        .addComponent(panelOpcionesCompra, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addGap(0, 0, Short.MAX_VALUE)))
                .addContainerGap())
        );
        layout.setVerticalGroup(
            layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
            .addGroup(layout.createSequentialGroup()
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.LEADING)
                    .addGroup(layout.createSequentialGroup()
                        .addComponent(panelDatosCompra, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                        .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                        .addComponent(panelProducto, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                    .addComponent(panelOpcionesCompra, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE))
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(jScrollPane1, javax.swing.GroupLayout.PREFERRED_SIZE, 122, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addComponent(panelResumen, javax.swing.GroupLayout.PREFERRED_SIZE, javax.swing.GroupLayout.DEFAULT_SIZE, javax.swing.GroupLayout.PREFERRED_SIZE)
                .addPreferredGap(javax.swing.LayoutStyle.ComponentPlacement.RELATED)
                .addGroup(layout.createParallelGroup(javax.swing.GroupLayout.Alignment.BASELINE)
                    .addComponent(btnAceptar, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnCancelar, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)
                    .addComponent(btnAnular, javax.swing.GroupLayout.PREFERRED_SIZE, 25, javax.swing.GroupLayout.PREFERRED_SIZE)))
        );

        pack();
    }// </editor-fold>//GEN-END:initComponents

    private void cbFormaPagoActionPerformed(java.awt.event.ActionEvent evt) {//GEN-FIRST:event_cbFormaPagoActionPerformed
        if (cbFormaPago.getItemCount() == 0) {
            return;
        }
        //habilitando el textfield para poner la cantidad de días de cta cte
        tfDias.setEnabled((cbFormaPago.getSelectedItem().toString().equalsIgnoreCase("Cta Cte")));
        tfDias.setRequestFocusEnabled((cbFormaPago.getSelectedItem().toString().equalsIgnoreCase("Cta Cte")));
        tfDias.setText("");
        //deshabilita la selección de caja
        //ya que cuando es CtaCte, no hay movimiento de Caja
        cbCaja.setEnabled(!tfDias.isEnabled());
    }//GEN-LAST:event_cbFormaPagoActionPerformed

    private void tfDiasKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfDiasKeyTyped
        SwingUtil.checkInputDigit(evt);

    }//GEN-LAST:event_tfDiasKeyTyped

    private void tfFacturaCuartoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfFacturaCuartoFocusLost
        tfFacturaCuarto.setText(UTIL.AGREGAR_CEROS(tfFacturaCuarto.getText().trim(), 4));
    }//GEN-LAST:event_tfFacturaCuartoFocusLost

    private void tfFacturaOctetoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfFacturaOctetoFocusLost
        tfFacturaOcteto.setText(UTIL.AGREGAR_CEROS(tfFacturaOcteto.getText().trim(), 8));
    }//GEN-LAST:event_tfFacturaOctetoFocusLost

    private void tfFacturaCuartoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfFacturaCuartoKeyTyped
        SwingUtil.checkInputDigit(evt, false, 4);

    }//GEN-LAST:event_tfFacturaCuartoKeyTyped

    private void tfFacturaOctetoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfFacturaOctetoKeyTyped
        SwingUtil.checkInputDigit(evt, false, 8);

    }//GEN-LAST:event_tfFacturaOctetoKeyTyped

    private void cbFormaPagoFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_cbFormaPagoFocusLost
        if (tfDias.isEnabled()) {
            tfDias.requestFocus();
        }
    }//GEN-LAST:event_cbFormaPagoFocusLost

    private void tfPercIIBBKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfPercIIBBKeyTyped
        SwingUtil.checkInputDigit(evt, true, 13);
    }//GEN-LAST:event_tfPercIIBBKeyTyped

    private void tfProductoCodigoFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfProductoCodigoFocusGained
        tfProductoCodigo.setSelectionStart(0);
    }//GEN-LAST:event_tfProductoCodigoFocusGained

    private void tfCantidadKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfCantidadKeyReleased
        if (evt.getKeyCode() == 10) {
            tfPrecioUnitario.requestFocus();
        }
    }//GEN-LAST:event_tfCantidadKeyReleased

    private void tfPrecioUnitarioKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfPrecioUnitarioKeyReleased
        if (evt.getKeyCode() == 10) {
            cbCambioPrecio.requestFocus();
        }
    }//GEN-LAST:event_tfPrecioUnitarioKeyReleased

    private void cbCambioPrecioKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_cbCambioPrecioKeyReleased
        if (evt.getKeyCode() == 10) {
            btnADD.requestFocus();
        }
    }//GEN-LAST:event_cbCambioPrecioKeyReleased

    private void tfOtrosImpuestosRecuperablesKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfOtrosImpuestosRecuperablesKeyTyped
        SwingUtil.checkInputDigit(evt, true, 13);
    }//GEN-LAST:event_tfOtrosImpuestosRecuperablesKeyTyped

    private void tfOtrosImpuestosNoRecuperablesKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfOtrosImpuestosNoRecuperablesKeyTyped
        SwingUtil.checkInputDigit(evt, true, 13);
    }//GEN-LAST:event_tfOtrosImpuestosNoRecuperablesKeyTyped

    private void tfDescuentoKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfDescuentoKeyTyped
        // TODO add your handling code here:
    }//GEN-LAST:event_tfDescuentoKeyTyped

    private void xxx(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_xxx
        JTextField tf = (JTextField) evt.getSource();
        tf.setSelectionStart(0);
    }//GEN-LAST:event_xxx

    private void tfProductoDescFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfProductoDescFocusGained
        tfProductoDesc.setSelectionStart(0);
    }//GEN-LAST:event_tfProductoDescFocusGained

    private void tfProductoDescFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfProductoDescFocusLost
        if (cbDesc.getSelectedIndex() == 1) {
            try {
                tfProductoDesc.setText(UTIL.PRECIO_CON_PUNTO.format(Double.valueOf(tfProductoDesc.getText())));
                tfProductoDesc.setForeground(Color.BLACK);
            } catch (Exception exception) {
                tfProductoDesc.setForeground(Color.RED);
            }
        }
    }//GEN-LAST:event_tfProductoDescFocusLost

    private void tfProductoDescKeyTyped(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfProductoDescKeyTyped
        SwingUtil.checkInputDigit(evt, true);
    }//GEN-LAST:event_tfProductoDescKeyTyped

    private void tfObservacionFocusGained(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfObservacionFocusGained
        controlDeCaracteres(tfObservacion);
    }//GEN-LAST:event_tfObservacionFocusGained

    private void tfObservacionFocusLost(java.awt.event.FocusEvent evt) {//GEN-FIRST:event_tfObservacionFocusLost
        controlDeCaracteres(tfObservacion);
    }//GEN-LAST:event_tfObservacionFocusLost

    private void tfObservacionKeyReleased(java.awt.event.KeyEvent evt) {//GEN-FIRST:event_tfObservacionKeyReleased
        controlDeCaracteres(tfObservacion);
    }//GEN-LAST:event_tfObservacionKeyReleased
    // Variables declaration - do not modify//GEN-BEGIN:variables
    private javax.swing.JButton bBuscarProducto;
    private javax.swing.JButton btnADD;
    private javax.swing.JButton btnAceptar;
    private javax.swing.JButton btnAnular;
    private javax.swing.JButton btnCancelar;
    private javax.swing.JButton btnDEL;
    private javax.swing.JComboBox cbCaja;
    private javax.swing.JComboBox cbCambioPrecio;
    private javax.swing.JComboBox cbCuenta;
    private javax.swing.JComboBox cbDesc;
    private javax.swing.JComboBox cbFacturaTipo;
    private javax.swing.JComboBox cbFormaPago;
    private javax.swing.JComboBox cbProductos;
    private javax.swing.JComboBox cbProveedor;
    private javax.swing.JComboBox cbSubCuenta;
    private javax.swing.JComboBox cbSucursal;
    private javax.swing.JComboBox cbUnidadDeNegocio;
    private javax.swing.JCheckBox checkActualizaStock;
    private com.toedter.calendar.JDateChooser dcFechaFactura;
    private javax.swing.JLabel jLabel1;
    private javax.swing.JLabel jLabel12;
    private javax.swing.JLabel jLabel13;
    private javax.swing.JLabel jLabel14;
    private javax.swing.JLabel jLabel16;
    private javax.swing.JLabel jLabel17;
    private javax.swing.JLabel jLabel18;
    private javax.swing.JLabel jLabel19;
    private javax.swing.JLabel jLabel2;
    private javax.swing.JLabel jLabel21;
    private javax.swing.JLabel jLabel3;
    private javax.swing.JLabel jLabel30;
    private javax.swing.JLabel jLabel4;
    private javax.swing.JLabel jLabel5;
    private javax.swing.JLabel jLabel7;
    private javax.swing.JLabel jLabel8;
    private javax.swing.JLabel jLabel9;
    private javax.swing.JScrollPane jScrollPane1;
    private javax.swing.JTable jTable1;
    private javax.swing.JLabel labelCaja;
    private javax.swing.JLabel labelCodigoNoRegistrado;
    private javax.swing.JLabel labelCuenta;
    private javax.swing.JLabel labelDescuento;
    private javax.swing.JLabel labelDias;
    private javax.swing.JLabel labelFacturaNumero;
    private javax.swing.JLabel labelFacturaTipo;
    private javax.swing.JLabel labelFecha;
    private javax.swing.JLabel labelFormaPago;
    private javax.swing.JLabel labelIVA;
    private javax.swing.JLabel labelMovimiento;
    private javax.swing.JLabel labelObservacion;
    private javax.swing.JLabel labelObservacionCharactersCount;
    private javax.swing.JLabel labelPrecioActual;
    private javax.swing.JLabel labelPrecioUnit;
    private javax.swing.JLabel labelProveedor;
    private javax.swing.JLabel labelSubCuenta;
    private javax.swing.JLabel labelSucursal;
    private javax.swing.JLabel labelUnidad;
    private javax.swing.JPanel panelDatosCompra;
    private javax.swing.JPanel panelOpcionesCompra;
    private javax.swing.JPanel panelProducto;
    private javax.swing.JPanel panelResumen;
    private javax.swing.JTextField tfCantidad;
    private javax.swing.JTextField tfDescuento;
    private javax.swing.JTextField tfDias;
    private javax.swing.JTextField tfFacturaCuarto;
    private javax.swing.JTextField tfFacturaOcteto;
    private javax.swing.JTextField tfGravado;
    private javax.swing.JTextField tfNumMovimiento;
    private javax.swing.JTextField tfObservacion;
    private javax.swing.JTextField tfOtrosImpuestosNoRecuperables;
    private javax.swing.JTextField tfOtrosImpuestosRecuperables;
    private javax.swing.JTextField tfPercIIBB;
    private javax.swing.JTextField tfPrecioUnitario;
    private javax.swing.JTextField tfProductoCodigo;
    private javax.swing.JTextField tfProductoDesc;
    private javax.swing.JTextField tfProductoIVA;
    private javax.swing.JTextField tfProductoPrecioActual;
    private javax.swing.JTextField tfTotal;
    private javax.swing.JTextField tfTotalIVA105;
    private javax.swing.JTextField tfTotalIVA21;
    private javax.swing.JTextField tfTotalImpuestosNoRecuperables;
    private javax.swing.JTextField tfTotalNoGravado;
    private javax.swing.JTextField tfTotalOtrosImpuestos;
    private javax.swing.JTextField tfTotalPercepcion;
    // End of variables declaration//GEN-END:variables

    /**
     * Setea un mensaje de información. Si
     *
     * @param msg ,.. mensaje.
     * @param titulo (puede tener título o no).
     * @param messageType -1=PLAIN, 0=ERROR, 1=INFO, 2=WARRNING.
     */
    public void showMessage(String msg, String titulo, int messageType) {
        if (messageType >= -1 && messageType <= 2) {
            javax.swing.JOptionPane.showMessageDialog(this, msg, titulo, messageType);
        } else {
            javax.swing.JOptionPane.showMessageDialog(this, msg);
        }
    }

    private void controlDeCaracteres(JTextField textField) {
        int length = textField.getText().length();
        labelObservacionCharactersCount.setText(length + "/100");
        if (length > 100) {
            tfObservacion.setBackground(Color.RED);
        } else {
            tfObservacion.setBackground(null);
        }
    }

    public void addListener(Object o) {
        btnADD.addActionListener((ActionListener) o);
        btnDEL.addActionListener((ActionListener) o);
        bBuscarProducto.addActionListener((ActionListener) o);
        btnCancelar.addActionListener((ActionListener) o);
        btnAceptar.addActionListener((ActionListener) o);
        try {
            jTable1.addMouseListener((MouseListener) o);
        } catch (ClassCastException e) {
            //ignored..
        }
        try {
            tfProductoCodigo.addKeyListener((KeyListener) o);
            tfFacturaCuarto.addKeyListener((KeyListener) o);
            tfFacturaOcteto.addKeyListener((KeyListener) o);
        } catch (ClassCastException e) {
            //ignored..
        }
    }

    public JTextField getTfProductoCodigo() {
        return tfProductoCodigo;
    }

    // <editor-fold defaultstate="collapsed" desc="GETTERS">
    public JButton getBtnAnular() {
        return btnAnular;
    }

    public JComboBox getCbProductos() {
        return cbProductos;
    }

    public JComboBox getCbCaja() {
        return cbCaja;
    }

    public JTextField getTfNumMovimiento() {
        return tfNumMovimiento;
    }

    public JTable getjTable1() {
        return jTable1;
    }

    public DefaultTableModel getDtm() {
        return (DefaultTableModel) jTable1.getModel();
    }

    public JComboBox getCbCambioPrecio() {
        return cbCambioPrecio;
    }

    public JComboBox getCbFacturaTipo() {
        return cbFacturaTipo;
    }

    public JComboBox getCbFormaPago() {
        return cbFormaPago;
    }

    public JComboBox getCbProveedor() {
        return cbProveedor;
    }

    public JComboBox getCbSucursal() {
        return cbSucursal;
    }

    public JComboBox getCbCuenta() {
        return cbCuenta;
    }

    public JComboBox getCbSubCuenta() {
        return cbSubCuenta;
    }

    public JComboBox getCbUnidadDeNegocio() {
        return cbUnidadDeNegocio;
    }

    public JCheckBox getCheckActualizaStock() {
        return checkActualizaStock;
    }

    public java.util.Date getDcFechaFactura() {
        return dcFechaFactura.getDate();
    }

    public JTextField getTfCantidad() {
        return tfCantidad;
    }

    public String getTfDias() {
        return tfDias.getText().trim();
    }

    public String getTfFacturaCuarto() {
        return tfFacturaCuarto.getText().trim();
    }

    public String getTfFacturaOcteto() {
        return tfFacturaOcteto.getText().trim();
    }

    public String getTfGravado() {
        return tfGravado.getText().trim();
    }

    public String getTfTotalNoGravado() {
        return tfTotalNoGravado.getText().trim();
    }

    public String getTfMovimiento() {
        return tfNumMovimiento.getText().trim();
    }

    public String getTfPercIIBB() {
        return tfPercIIBB.getText().trim();
    }

    public String getTfPrecioUnitario() {
        return tfPrecioUnitario.getText().trim();
    }

    public String getTfProductoIVA() {
        return tfProductoIVA.getText().trim();
    }

    public JTextField getTfTotal() {
        return tfTotal;
    }

    public String getTfTotalText() {
        return tfTotal.getText().trim();
    }

    public String getTfTotalIVA105() {
        return tfTotalIVA105.getText().trim();
    }

    public String getTfTotalIVA21() {
        return tfTotalIVA21.getText().trim();
    }

    public JTextField getTfTotalOtrosImpuestos() {
        return tfTotalOtrosImpuestos;
    }

    public JTextField getTfTotalImpuestosNoRecuperables() {
        return tfTotalImpuestosNoRecuperables;
    }

    public JTextField getTfTotalPercepcion() {
        return tfTotalPercepcion;
    }

    public JTextField getTfObservacion() {
        return tfObservacion;
    }

    public JTextField getTfOtrosImpuestosNoRecuperables() {
        return tfOtrosImpuestosNoRecuperables;
    }

    public JTextField getTfOtrosImpuestosRecuperables() {
        return tfOtrosImpuestosRecuperables;
    }

    public JTextField getTfDescuento() {
        return tfDescuento;
    }

    public JComboBox getCbDesc() {
        return cbDesc;
    }

    public JTextField getTfProductoDesc() {
        return tfProductoDesc;
    }
    // </editor-fold>
    // <editor-fold defaultstate="collapsed" desc="SETTERS">

    public void setDcFechaFactura(java.util.Date fechaFactura) {
        dcFechaFactura.setDate(fechaFactura);
    }

    public void setTfDias(String tfDias) {
        this.tfDias.setText(tfDias);
    }

    public void setTfFacturaCuarto(String tfFacturaCuarto) {
        this.tfFacturaCuarto.setText(tfFacturaCuarto);
    }

    public void setTfFacturaOcteto(String tfFacturaOcteto) {
        this.tfFacturaOcteto.setText(tfFacturaOcteto);
    }

    public void setTfNumMovimiento(String tfNumMovimiento) {
        this.tfNumMovimiento.setText(tfNumMovimiento);
    }

    public void setTfProductoCodigo(String tfProductoCodigo) {
        this.tfProductoCodigo.setText(tfProductoCodigo);
    }

    public void setTfProductoIVA(String tfProductoIVA) {
        this.tfProductoIVA.setText(tfProductoIVA);
    }

    public void setTfProductoPrecioActual(String ProductoPrecioActual) {
        this.tfProductoPrecioActual.setText(ProductoPrecioActual);
    }

    public void setTfGravado(String tfGravado) {
        this.tfGravado.setText(tfGravado);
    }

    public void setTfTotalNoGravado(String tfGravado) {
        this.tfTotalNoGravado.setText(tfGravado);
    }

    public void setTfTotal(String tfTotal) {
        this.tfTotal.setText(tfTotal);
    }

    public void setTfTotalIVA105(String tfTotalIVA105) {
        this.tfTotalIVA105.setText(tfTotalIVA105);
    }

    public void setTfTotalIVA21(String tfTotalIVA21) {
        this.tfTotalIVA21.setText(tfTotalIVA21);
    }

    public void setTfPrecioUnitario(String string) {
        tfPrecioUnitario.setText(string);
    }
    // </editor-fold>

    public void limpiarPanelProducto() {
        tfProductoCodigo.setText("");
        tfProductoPrecioActual.setText("");
        tfProductoIVA.setText("");
        tfCantidad.setText("");
        tfPrecioUnitario.setText("");
        checkActualizaStock.setSelected(true);
    }

    public void limpiarPanelDatos() {
        tfFacturaCuarto.setText("");
        tfFacturaOcteto.setText("");
        cbFormaPago.setSelectedIndex(cbFormaPago.getItemCount() > 0 ? 0 : -1);
        tfDias.setText("");
        tfPercIIBB.setText("0");
        tfOtrosImpuestosRecuperables.setText("0");
        tfOtrosImpuestosNoRecuperables.setText("0");
        tfDescuento.setText("0");
    }

    public void limpiarResumen() {
        tfGravado.setText("0");
        tfTotalNoGravado.setText("0");
        tfTotalIVA105.setText("0");
        tfTotalIVA21.setText("0");
        tfTotalPercepcion.setText("0");
        tfTotalOtrosImpuestos.setText("0");
        tfTotal.setText("0");
    }

    public void modoVista(boolean enable) {
        cbProveedor.setEnabled(enable);
        cbUnidadDeNegocio.setEnabled(enable);
        cbSucursal.setEnabled(enable);
        cbCuenta.setEnabled(enable);
        cbSubCuenta.setEnabled(enable);
        cbCaja.setEnabled(enable);
        cbFacturaTipo.setEnabled(enable);
        dcFechaFactura.setEnabled(enable);
        tfFacturaCuarto.setEnabled(enable);
        tfFacturaOcteto.setEnabled(enable);
        cbFormaPago.setEnabled(enable);
        tfDias.setEnabled(enable);
        checkActualizaStock.setEnabled(enable);
        tfPercIIBB.setEnabled(enable);
        tfProductoCodigo.setEnabled(enable);
        cbProductos.setEnabled(enable);
        tfCantidad.setEnabled(enable);
        cbCambioPrecio.setEnabled(enable);
        bBuscarProducto.setEnabled(enable);
        tfPrecioUnitario.setEnabled(enable);
        btnADD.setEnabled(enable);
        btnDEL.setEnabled(enable);
        btnAceptar.setEnabled(enable);
        btnCancelar.setEnabled(enable);
        btnAnular.setEnabled(enable);
        tfOtrosImpuestosRecuperables.setEnabled(enable);
        tfOtrosImpuestosNoRecuperables.setEnabled(enable);
        tfDescuento.setEnabled(enable);
    }

    public void labelCodigoNoRegistrado(boolean visible) {
        labelCodigoNoRegistrado.setVisible(visible);
    }

    /**
     * Esconde todo lo innecesario para realizar Ordenes de despacho.
     * labelPrecioActual y tfProductoPrecioActual se usan para mostrar el stock
     * general del producto seleccionado.
     */
    public void setUIToOrden() {
        bBuscarProducto.setVisible(false);
        panelResumen.setVisible(false);
        labelProveedor.setVisible(false);
        cbProveedor.setVisible(false);
        labelFecha.setVisible(false);
        dcFechaFactura.setVisible(false);
        labelFacturaNumero.setVisible(false);
        tfFacturaCuarto.setVisible(false);
        tfFacturaOcteto.setVisible(false);
        labelFacturaTipo.setVisible(false);
        cbFacturaTipo.setVisible(false);
        labelCaja.setVisible(false);
        cbCaja.setVisible(false);
        labelFormaPago.setVisible(false);
        cbFormaPago.setVisible(false);
        labelDias.setVisible(false);
        tfDias.setVisible(false);
        panelOpcionesCompra.setVisible(false);
        ((TitledBorder) panelDatosCompra.getBorder()).setTitle("     ");
//      labelMovimiento.setText("Orden Nº");
        labelMovimiento.setVisible(false);
        tfNumMovimiento.setVisible(false);
        labelPrecioActual.setText("Stock");
        tfProductoPrecioActual.setToolTipText("Stock actual general");
        labelPrecioUnit.setVisible(false);
        tfPrecioUnitario.setVisible(false);
        labelIVA.setVisible(false);
        tfProductoIVA.setVisible(false);
        cbCambioPrecio.setVisible(false);
        btnAnular.setVisible(false);
        jLabel17.setVisible(false);
        tfPercIIBB.setVisible(false);
        jLabel18.setVisible(false);
        tfOtrosImpuestosRecuperables.setVisible(false);
        jLabel19.setVisible(false);
        tfOtrosImpuestosNoRecuperables.setVisible(false);
    }

    public void setUIToNotaCredito() {
        ((TitledBorder) panelDatosCompra.getBorder()).setTitle("Datos de Nota Crédito");
        labelFacturaTipo.setVisible(false);
        cbFacturaTipo.setVisible(false);
        labelFormaPago.setVisible(false);
        cbFormaPago.setVisible(false);
        labelDias.setVisible(false);
        tfDias.setVisible(false);
        labelMovimiento.setVisible(false);
        tfNumMovimiento.setVisible(false);
        labelSucursal.setVisible(false);
        cbSucursal.setVisible(false);
        labelCaja.setVisible(false);
        cbCaja.setVisible(false);
        labelDescuento.setVisible(false);
        cbDesc.setVisible(false);
        tfProductoDesc.setVisible(false);
//        panelOpcionesCompra.setVisible(false);
        labelUnidad.setVisible(false);
        cbUnidadDeNegocio.setVisible(false);
        labelCuenta.setVisible(false);
        cbCuenta.setVisible(false);
        labelSubCuenta.setVisible(false);
        cbSubCuenta.setVisible(false);
        checkActualizaStock.setText("Acreditar importe de Nota");
        pack();
    }

    public JButton getbBuscarProducto() {
        return bBuscarProducto;
    }

    public JButton getBtnADD() {
        return btnADD;
    }

    public JButton getBtnAceptar() {
        return btnAceptar;
    }

    public JButton getBtnCancelar() {
        return btnCancelar;
    }

    public JButton getBtnDEL() {
        return btnDEL;
    }

    public void setTfPercIIBB(String string) {
        tfPercIIBB.setText(string);
    }

    public void addTotalesRefreshListener(FocusListener focusLostListener) {
        tfPercIIBB.addFocusListener(focusLostListener);
        tfOtrosImpuestosRecuperables.addFocusListener(focusLostListener);
        tfOtrosImpuestosNoRecuperables.addFocusListener(focusLostListener);
        tfDescuento.addFocusListener(focusLostListener);
    }

    private String getDetailTotal() {
        return "<html>"
                + "<br>Perc. IIBB: <b>$" + tfPercIIBB.getText() + "</b>"
                + "<br>Imp. Recup: <b>$" + tfOtrosImpuestosRecuperables.getText() + "</b>"
                + "<br>Imp. NoRec: <b>$" + tfOtrosImpuestosNoRecuperables.getText() + "</b>"
                + "<br>Descuento : <b>$-" + tfDescuento.getText() + "</b>"
                + "<br>Neto      : <b>$" + tfGravado.getText() + "</b>"
                + "<br>IVA 10.5% : <b>$" + tfTotalIVA105.getText() + "</b>"
                + "<br>IVA 21%   : <b>$" + tfTotalIVA21.getText() + "</b>"
                + "<br>Otros Imp.: <b>$" + tfTotalOtrosImpuestos.getText() + "</b>"
                + "<br>No Gravado: <b>$" + tfTotalNoGravado.getText() + "</b>"
                + "<br>TOTAL     : <b>$" + tfTotal.getText() + "</b>"
                + "</html>";
    }

    public void limpiarPanel() {
        limpiarPanelDatos();
        limpiarPanelProducto();
        getDtm().setRowCount(0);
        limpiarResumen();
        setTfNumMovimiento("");
    }

    public void setFacturaNumeroEnable(boolean b) {
        tfFacturaCuarto.setEnabled(b);
        tfFacturaOcteto.setEnabled(b);
    }
}
